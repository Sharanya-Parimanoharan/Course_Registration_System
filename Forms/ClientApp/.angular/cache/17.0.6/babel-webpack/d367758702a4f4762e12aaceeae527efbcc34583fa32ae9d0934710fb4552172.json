{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\nlet LoginComponent = class LoginComponent {\n  ngOnInit() {}\n  constructor(authService, router) {\n    this.authService = authService;\n    this.router = router;\n    this.isUserValid = false;\n    this.loginfrm = new FormGroup({\n      email: new FormControl('', [Validators.required, Validators.email]),\n      pwd: new FormControl('', [Validators.required])\n    });\n  }\n  get email() {\n    return this.loginfrm.get(\"email\");\n  }\n  get pwd() {\n    return this.loginfrm.get(\"pwd\");\n  }\n  loginSubmit() {\n    this.authService.loginStudent([this.loginfrm.value.email, this.loginfrm.value.pwd]).subscribe(res => {\n      if (res == \"Failure\") {\n        this.isUserValid = false;\n        alert(\"Login unsuccessful\");\n      } else {\n        this.isUserValid = true;\n        this.authService.setToken(res);\n        this.ress = this.authService.loadCurrentUser();\n        if (this.ress.role == \"Admin\") {\n          this.router.navigateByUrl('/signin/courses');\n        }\n      }\n    });\n  }\n};\nLoginComponent = __decorate([Component({\n  selector: 'app-login',\n  templateUrl: './login.component.html',\n  styleUrls: ['./login.component.css']\n})], LoginComponent);\nexport { LoginComponent };","map":{"version":3,"names":["Component","FormControl","FormGroup","Validators","LoginComponent","ngOnInit","constructor","authService","router","isUserValid","loginfrm","email","required","pwd","get","loginSubmit","loginStudent","value","subscribe","res","alert","setToken","ress","loadCurrentUser","role","navigateByUrl","__decorate","selector","templateUrl","styleUrls"],"sources":["/Users/sharanyaparimanoharan/Projects/Forms/Forms/ClientApp/src/app/login/login.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\nimport { Router } from '@angular/router';\nimport { BehaviorSubject } from 'rxjs';\nimport { AuthService } from '../services/auth.service';\n\n@Component({\n  selector: 'app-login',\n  templateUrl: './login.component.html',\n  styleUrls: ['./login.component.css']\n})\nexport class LoginComponent implements OnInit {\n\n  isUserValid: boolean = false;\n  ress: any;\n\n  ngOnInit() {\n\n  }\n  constructor(private authService: AuthService, private router: Router) { }\n\n  loginfrm = new FormGroup({\n    email: new FormControl('', [Validators.required, Validators.email]),\n    pwd: new FormControl('', [Validators.required])\n  });\n\n  get email() {\n    return this.loginfrm.get(\"email\");\n  }\n\n  get pwd() {\n    return this.loginfrm.get(\"pwd\");\n  }\n\n \n\n  loginSubmit() {\n    this.authService.loginStudent([\n      this.loginfrm.value.email,\n      this.loginfrm.value.pwd\n    ]).subscribe(res => {\n      if (res == \"Failure\") {\n        this.isUserValid = false;\n        alert(\"Login unsuccessful\");\n          \n      }\n      else {\n        this.isUserValid = true;\n        this.authService.setToken(res);\n        this.ress =this.authService.loadCurrentUser();\n        if (this.ress.role == \"Admin\") {\n          this.router.navigateByUrl('/signin/courses');\n        }\n      }\n    }); \n   \n  }\n}\n"],"mappings":";AAAA,SAASA,SAAS,QAAgB,eAAe;AACjD,SAASC,WAAW,EAAEC,SAAS,EAAEC,UAAU,QAAQ,gBAAgB;AAU5D,IAAMC,cAAc,GAApB,MAAMA,cAAc;EAKzBC,QAAQA,CAAA,GAER;EACAC,YAAoBC,WAAwB,EAAUC,MAAc;IAAhD,KAAAD,WAAW,GAAXA,WAAW;IAAuB,KAAAC,MAAM,GAANA,MAAM;IAN5D,KAAAC,WAAW,GAAY,KAAK;IAQ5B,KAAAC,QAAQ,GAAG,IAAIR,SAAS,CAAC;MACvBS,KAAK,EAAE,IAAIV,WAAW,CAAC,EAAE,EAAE,CAACE,UAAU,CAACS,QAAQ,EAAET,UAAU,CAACQ,KAAK,CAAC,CAAC;MACnEE,GAAG,EAAE,IAAIZ,WAAW,CAAC,EAAE,EAAE,CAACE,UAAU,CAACS,QAAQ,CAAC;KAC/C,CAAC;EALsE;EAOxE,IAAID,KAAKA,CAAA;IACP,OAAO,IAAI,CAACD,QAAQ,CAACI,GAAG,CAAC,OAAO,CAAC;EACnC;EAEA,IAAID,GAAGA,CAAA;IACL,OAAO,IAAI,CAACH,QAAQ,CAACI,GAAG,CAAC,KAAK,CAAC;EACjC;EAIAC,WAAWA,CAAA;IACT,IAAI,CAACR,WAAW,CAACS,YAAY,CAAC,CAC5B,IAAI,CAACN,QAAQ,CAACO,KAAK,CAACN,KAAK,EACzB,IAAI,CAACD,QAAQ,CAACO,KAAK,CAACJ,GAAG,CACxB,CAAC,CAACK,SAAS,CAACC,GAAG,IAAG;MACjB,IAAIA,GAAG,IAAI,SAAS,EAAE;QACpB,IAAI,CAACV,WAAW,GAAG,KAAK;QACxBW,KAAK,CAAC,oBAAoB,CAAC;OAE5B,MACI;QACH,IAAI,CAACX,WAAW,GAAG,IAAI;QACvB,IAAI,CAACF,WAAW,CAACc,QAAQ,CAACF,GAAG,CAAC;QAC9B,IAAI,CAACG,IAAI,GAAE,IAAI,CAACf,WAAW,CAACgB,eAAe,EAAE;QAC7C,IAAI,IAAI,CAACD,IAAI,CAACE,IAAI,IAAI,OAAO,EAAE;UAC7B,IAAI,CAAChB,MAAM,CAACiB,aAAa,CAAC,iBAAiB,CAAC;;;IAGlD,CAAC,CAAC;EAEJ;CACD;AA9CYrB,cAAc,GAAAsB,UAAA,EAL1B1B,SAAS,CAAC;EACT2B,QAAQ,EAAE,WAAW;EACrBC,WAAW,EAAE,wBAAwB;EACrCC,SAAS,EAAE,CAAC,uBAAuB;CACpC,CAAC,C,EACWzB,cAAc,CA8C1B"},"metadata":{},"sourceType":"module","externalDependencies":[]}