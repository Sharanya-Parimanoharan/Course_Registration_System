{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component, Input } from '@angular/core';\nimport { FormControl, FormGroup } from '@angular/forms';\nlet ViewCoursesComponent = class ViewCoursesComponent {\n  constructor(serv) {\n    this.serv = serv;\n    this.sideNavStatus = false;\n    this.search = '';\n    this.displayedColumns = ['code', 'name', 'dept', 'pre', 'delete', 'update'];\n    this.frm = new FormGroup({\n      code: new FormControl(''),\n      name: new FormControl(''),\n      dept: new FormControl(''),\n      pre: new FormControl('')\n    });\n  }\n  ngOnInit() {\n    this.serv.getCourses().subscribe(res => {\n      this.courses = res;\n    });\n  }\n  delete(code) {\n    if (confirm(\"Are you sure to delete \" + code)) {\n      this.serv.deleteCourse(code).subscribe(res => {\n        if (res == 'Success') {\n          alert(\"Successfully deleted\");\n          this.ngOnInit();\n        } else {\n          alert(\"ERROR!!\");\n        }\n      });\n    }\n  }\n  onEdit(courses) {\n    this.courses.forEach(e => {\n      e.isEdit = false;\n    });\n    courses.isEdit = true;\n  }\n  save(courses) {\n    if (confirm(\"Are you sure to make changes ?\")) {\n      console.log(courses.code);\n      this.frm.value.code = courses.code;\n      this.frm.value.name = courses.name;\n      this.frm.value.dept = courses.department;\n      this.frm.value.pre = courses.preRequirements;\n      this.serv.update([this.frm.value.name, this.frm.value.code, this.frm.value.pre, this.frm.value.dept]).subscribe(res => {\n        if (res == 'Success') {\n          alert(\"Successfully Updated !\");\n          courses.isEdit = false;\n        } else {\n          alert(\"Error!!\");\n          courses.isEdit = false;\n        }\n      });\n    }\n  }\n  cancel(courses) {\n    courses.isEdit = false;\n  }\n  onSearch(value) {\n    value = value.toLowerCase();\n    this.ngOnInit();\n    if (value.length > 0) {\n      this.courses = this.courses.filter(d => {\n        d = d.filter(c => c.name.toLowerCase().include(value) || c.department.toLowerCase().include(value));\n        return this.courses.length > 0;\n      });\n    }\n  }\n};\n__decorate([Input()], ViewCoursesComponent.prototype, \"search\", void 0);\nViewCoursesComponent = __decorate([Component({\n  selector: 'app-view-courses',\n  templateUrl: './view-courses.component.html',\n  styleUrl: './view-courses.component.css'\n})], ViewCoursesComponent);\nexport { ViewCoursesComponent };","map":{"version":3,"names":["Component","Input","FormControl","FormGroup","ViewCoursesComponent","constructor","serv","sideNavStatus","search","displayedColumns","frm","code","name","dept","pre","ngOnInit","getCourses","subscribe","res","courses","delete","confirm","deleteCourse","alert","onEdit","forEach","e","isEdit","save","console","log","value","department","preRequirements","update","cancel","onSearch","toLowerCase","length","filter","d","c","include","__decorate","selector","templateUrl","styleUrl"],"sources":["/Users/sharanyaparimanoharan/Projects/Forms/Forms/ClientApp/src/app/view-courses/view-courses.component.ts"],"sourcesContent":["import { Component, OnInit, Input } from '@angular/core';\nimport { FormControl, FormGroup } from '@angular/forms';\nimport { CourseService } from '../services/course.service';\n\n@Component({\n  selector: 'app-view-courses',\n\n  templateUrl: './view-courses.component.html',\n  styleUrl: './view-courses.component.css'\n})\nexport class ViewCoursesComponent implements OnInit {\n  courses: any;\n  sideNavStatus: boolean = false;\n  @Input() search: string = '';\n\n  displayedColumns: string[] = ['code', 'name', 'dept', 'pre','delete','update'];\n  constructor(private serv: CourseService) { }\n\n  frm = new FormGroup({\n    code: new FormControl(''),\n    name: new FormControl(''),\n    dept: new FormControl(''),\n    pre: new FormControl('')\n  });\n\n  ngOnInit() {\n    this.serv.getCourses().subscribe((res) => {\n      this.courses = res;\n    });\n  }\n\n  delete(code: string) {\n    if (confirm(\"Are you sure to delete \" + code)) {\n      this.serv.deleteCourse(code).subscribe(res => {\n        if (res == 'Success') {\n          alert(\"Successfully deleted\");\n          this.ngOnInit();\n        }\n        else {\n          alert(\"ERROR!!\")\n        }\n        \n      })\n\n    }\n  }\n\n  onEdit(courses: any) {\n    this.courses.forEach(e => {\n      e.isEdit = false;\n    });\n    courses.isEdit = true;\n  }\n\n  save(courses: any) { \n    if (confirm(\"Are you sure to make changes ?\")) {\n      console.log(courses.code);\n      this.frm.value.code = courses.code;\n      this.frm.value.name = courses.name;\n      this.frm.value.dept = courses.department;\n      this.frm.value.pre = courses.preRequirements;\n\n      this.serv.update([\n        this.frm.value.name,\n        this.frm.value.code,\n        this.frm.value.pre,\n        this.frm.value.dept\n      ]).subscribe(res => {\n        if (res == 'Success') {\n          alert(\"Successfully Updated !\");\n          courses.isEdit = false;\n        }\n        else {\n          alert(\"Error!!\");\n          courses.isEdit = false;\n\n        }\n      });\n    }\n  }\n  cancel(courses:any) {\n    courses.isEdit = false;\n  }\n\n  onSearch(value: string): void {\n    value = value.toLowerCase();\n    this.ngOnInit();\n    if (value.length > 0) {\n      this.courses = this.courses.filter((d) => {\n        d = d.filter((c) =>\n          c.name.toLowerCase().include(value) ||\n          c.department.toLowerCase().include(value)\n        );\n        return this.courses.length > 0;\n      });\n    }\n  }\n\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}