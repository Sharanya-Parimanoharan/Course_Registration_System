{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component, Input } from '@angular/core';\nimport { FormControl, FormGroup } from '@angular/forms';\nlet ViewSchedComponent = class ViewSchedComponent {\n  constructor(serv, servAuth) {\n    this.serv = serv;\n    this.servAuth = servAuth;\n    this.sideNavStatus = false;\n    this.displayedColumn1 = ['code', 'instructor', 'day', 'stime', 'etime', 'max', 'current', 'deadLine', 'delete', 'update'];\n    this.displayedColumn2 = ['code', 'instructor', 'day', 'stime', 'etime', 'max', 'current', 'deadLine', 'Register'];\n    this.search = '';\n    this.frm = new FormGroup({\n      code: new FormControl(''),\n      name: new FormControl(''),\n      stime: new FormControl(''),\n      etime: new FormControl(''),\n      day: new FormControl(''),\n      deadLine: new FormControl(''),\n      max: new FormControl(),\n      registered: new FormControl(),\n      sched: new FormControl()\n    });\n  }\n  ngOnInit() {\n    this.user = this.servAuth.loadCurrentUser();\n    this.serv.getSchedules().subscribe(res => {\n      this.schedule = res;\n      this.searchSched = res;\n    });\n    if (this.user.role === 'Admin') {\n      this.displayedColumns = this.displayedColumn2;\n    } else {\n      this.displayedColumns = this.displayedColumn2;\n    }\n  }\n  delete(code) {\n    if (confirm(\"Are you sure to delete this Schedule ?\")) {\n      this.serv.deleteSchedule(code).subscribe(res => {\n        if (res == 'Success') {\n          alert(\"Successfully deleted\");\n          this.ngOnInit();\n        } else {\n          alert(\"ERROR!!\");\n        }\n      });\n    }\n  }\n  onEdit(schedule) {\n    this.schedule.forEach(e => {\n      e.isEdit = false;\n    });\n    schedule.isEdit = true;\n  }\n  save(schedules) {\n    if (confirm(\"Are you sure to make changes ?\")) {\n      this.frm.value.code = schedules.courseId;\n      this.frm.value.name = schedules.instructor;\n      this.frm.value.stime = schedules.startTIme;\n      this.frm.value.etime = schedules.endTIme;\n      this.frm.value.deadLine = schedules.deadLine;\n      this.frm.value.max = schedules.maxCapacity;\n      this.frm.value.registered = schedules.currentEnrollment;\n      this.frm.value.day = schedules.year;\n      this.frm.value.sched = schedules.scheduleId;\n      this.serv.updateSchedule([this.frm.value.name, this.frm.value.code, this.frm.value.stime, this.frm.value.etime, this.frm.value.deadLine, this.frm.value.max, this.frm.value.registered, this.frm.value.day, this.frm.value.sched]).subscribe(res => {\n        if (res == 'Success') {\n          alert(\"Successfully Updated !\");\n          schedules.isEdit = false;\n        } else {\n          alert(\"Error!!\");\n          schedules.isEdit = false;\n        }\n      });\n    }\n  }\n  cancel(courses) {\n    courses.isEdit = false;\n  }\n  onSearch(value) {\n    value = value.toLowerCase();\n    this.searchSched = null;\n    if (value.length > 0) {\n      this.searchSched = this.schedule.filter(c => c.instructor.toLowerCase().includes(value) || c.courseId.toLowerCase().includes(value));\n      console.log(this.searchSched);\n    } else {\n      this.ngOnInit();\n    }\n  }\n};\n__decorate([Input()], ViewSchedComponent.prototype, \"search\", void 0);\nViewSchedComponent = __decorate([Component({\n  selector: 'app-view-sched',\n  templateUrl: './view-sched.component.html',\n  styleUrl: './view-sched.component.css'\n})], ViewSchedComponent);\nexport { ViewSchedComponent };","map":{"version":3,"names":["Component","Input","FormControl","FormGroup","ViewSchedComponent","constructor","serv","servAuth","sideNavStatus","displayedColumn1","displayedColumn2","search","frm","code","name","stime","etime","day","deadLine","max","registered","sched","ngOnInit","user","loadCurrentUser","getSchedules","subscribe","res","schedule","searchSched","role","displayedColumns","delete","confirm","deleteSchedule","alert","onEdit","forEach","e","isEdit","save","schedules","value","courseId","instructor","startTIme","endTIme","maxCapacity","currentEnrollment","year","scheduleId","updateSchedule","cancel","courses","onSearch","toLowerCase","length","filter","c","includes","console","log","__decorate","selector","templateUrl","styleUrl"],"sources":["/Users/sharanyaparimanoharan/Projects/Forms/Forms/ClientApp/src/app/view-sched/view-sched.component.ts"],"sourcesContent":["import { Component, OnInit, Input } from '@angular/core';\nimport { FormControl, FormGroup } from '@angular/forms';\nimport { AuthService } from '../services/auth.service';\nimport { CourseService } from '../services/course.service';\n@Component({\n  selector: 'app-view-sched',\n\n  templateUrl: './view-sched.component.html',\n  styleUrl: './view-sched.component.css'\n})\nexport class ViewSchedComponent implements OnInit {\n  schedule: any;\n  sideNavStatus: boolean = false;\n  displayedColumn1: string[] = ['code', 'instructor', 'day', 'stime', 'etime', 'max', 'current', 'deadLine', 'delete', 'update'];\n  displayedColumn2: string[] = ['code', 'instructor', 'day', 'stime', 'etime', 'max', 'current', 'deadLine', 'Register'];\n  displayedColumns:string[]\n  searchSched: any;\n  user: any;\n\n  @Input() search: string = '';\n\n  constructor(private serv: CourseService, private servAuth: AuthService) { }\n\n  frm = new FormGroup({\n    code: new FormControl(''),\n    name: new FormControl(''),\n    stime: new FormControl(''),\n    etime: new FormControl(''),\n    day: new FormControl(''),\n    deadLine: new FormControl(''),\n    max: new FormControl(),\n    registered: new FormControl(),\n    sched: new FormControl()\n  });\n\n  ngOnInit() {\n    this.user = this.servAuth.loadCurrentUser();\n    this.serv.getSchedules().subscribe((res) => {\n      this.schedule = res;\n      this.searchSched = res;\n    });\n    if (this.user.role === 'Admin') {\n      this.displayedColumns = this.displayedColumn2;\n    }\n    else {\n      this.displayedColumns = this.displayedColumn2;\n\n    }\n  }\n\n  delete(code: string) {\n    if (confirm(\"Are you sure to delete this Schedule ?\")) {\n      this.serv.deleteSchedule(code).subscribe(res => {\n        if (res == 'Success') {\n          alert(\"Successfully deleted\");\n          this.ngOnInit();\n        }\n        else {\n          alert(\"ERROR!!\")\n        }\n\n      })\n\n    }\n  }\n\n  onEdit(schedule: any) {\n    this.schedule.forEach(e => {\n      e.isEdit = false;\n    });\n    schedule.isEdit = true;\n  }\n\n  save(schedules: any) {\n    if (confirm(\"Are you sure to make changes ?\")) {\n      this.frm.value.code = schedules.courseId;\n      this.frm.value.name = schedules.instructor;\n      this.frm.value.stime = schedules.startTIme;\n      this.frm.value.etime = schedules.endTIme;\n      this.frm.value.deadLine = schedules.deadLine;\n      this.frm.value.max = schedules.maxCapacity;\n      this.frm.value.registered = schedules.currentEnrollment;\n      this.frm.value.day = schedules.year;\n      this.frm.value.sched = schedules.scheduleId;\n      this.serv.updateSchedule([\n        this.frm.value.name,\n        this.frm.value.code,\n        this.frm.value.stime,\n        this.frm.value.etime,\n        this.frm.value.deadLine,\n        this.frm.value.max,\n        this.frm.value.registered,\n        this.frm.value.day,\n        this.frm.value.sched,\n      ]).subscribe(res => {\n        if (res == 'Success') {\n          alert(\"Successfully Updated !\");\n          schedules.isEdit = false;\n        }\n        else {\n          alert(\"Error!!\");\n          schedules.isEdit = false;\n\n        }\n      });\n    }\n  }\n  cancel(courses: any) {\n    courses.isEdit = false;\n  }\n\n  onSearch(value: string) {\n    value = value.toLowerCase();\n    this.searchSched = null;\n    if (value.length > 0) {\n      this.searchSched = this.schedule.filter((c) =>\n        c.instructor.toLowerCase().includes(value) ||\n        c.courseId.toLowerCase().includes(value)\n      );\n\n      console.log(this.searchSched);\n\n    }\n    else {\n      this.ngOnInit();\n    }\n  }\n\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}