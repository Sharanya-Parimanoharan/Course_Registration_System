{"ast":null,"code":"import { FormControl, FormGroup, Validators } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../services/auth.service\";\nimport * as i2 from \"@angular/router\";\nfunction LoginComponent_div_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 15);\n    i0.ɵɵtext(1, \" Invalid Email \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction LoginComponent_div_17_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 15);\n    i0.ɵɵtext(1, \" Password Required \");\n    i0.ɵɵelementEnd();\n  }\n}\nexport let LoginComponent = /*#__PURE__*/(() => {\n  class LoginComponent {\n    ngOnInit() {}\n    constructor(authService, router) {\n      this.authService = authService;\n      this.router = router;\n      this.isUserValid = false;\n      this.loginfrm = new FormGroup({\n        email: new FormControl('', [Validators.required, Validators.email]),\n        pwd: new FormControl('', [Validators.required])\n      });\n    }\n    get email() {\n      return this.loginfrm.get(\"email\");\n    }\n    get pwd() {\n      return this.loginfrm.get(\"pwd\");\n    }\n    loginSubmit() {\n      this.authService.loginStudent([this.loginfrm.value.email, this.loginfrm.value.pwd]).subscribe(res => {\n        if (res == \"Failure\") {\n          this.isUserValid = false;\n          alert(\"Login unsuccessful\");\n        } else {\n          this.isUserValid = true;\n          this.authService.setToken(res);\n          this.router.navigateByUrl('/');\n        }\n      });\n    }\n    static #_ = this.ɵfac = function LoginComponent_Factory(t) {\n      return new (t || LoginComponent)(i0.ɵɵdirectiveInject(i1.AuthService), i0.ɵɵdirectiveInject(i2.Router));\n    };\n    static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: LoginComponent,\n      selectors: [[\"app-login\"]],\n      decls: 28,\n      vars: 4,\n      consts: [[1, \"border\", \"p-3\", \"rounded-3\", \"perfect-centering\", 3, \"formGroup\", \"ngSubmit\"], [1, \"row\", \"g-0\"], [1, \"col\", \"text-center\", \"p-2\", \"mb-3\", \"bg-light\"], [1, \"fs-3\"], [1, \"col\", \"mb-3\"], [\"for\", \"email\", 1, \"form=label\"], [\"type\", \"email\", \"id\", \"email\", \"formControlName\", \"email\", 1, \"form-control\"], [\"class\", \"form-text text-danger\", 4, \"ngIf\"], [\"for\", \"pwd\", 1, \"form=label\"], [\"type\", \"pwd\", \"id\", \"pwd\", \"formControlName\", \"pwd\", 1, \"form-control\"], [\"routerLink\", \"/\"], [1, \"row\"], [1, \"col-6\", \"offset-3\"], [1, \"d-grid\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary\", 3, \"disabled\"], [1, \"form-text\", \"text-danger\"]],\n      template: function LoginComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelement(0, \"app-nav-menu\");\n          i0.ɵɵelementStart(1, \"form\", 0);\n          i0.ɵɵlistener(\"ngSubmit\", function LoginComponent_Template_form_ngSubmit_1_listener() {\n            return ctx.loginSubmit();\n          });\n          i0.ɵɵelementStart(2, \"div\", 1)(3, \"div\", 2)(4, \"span\", 3);\n          i0.ɵɵtext(5, \"Login\");\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(6, \"div\", 1)(7, \"div\", 4)(8, \"label\", 5);\n          i0.ɵɵtext(9, \"Email Address\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(10, \"input\", 6);\n          i0.ɵɵtemplate(11, LoginComponent_div_11_Template, 2, 0, \"div\", 7);\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(12, \"div\", 1)(13, \"div\", 4)(14, \"label\", 8);\n          i0.ɵɵtext(15, \"Password\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(16, \"input\", 9);\n          i0.ɵɵtemplate(17, LoginComponent_div_17_Template, 2, 0, \"div\", 7);\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(18, \"div\", 1)(19, \"div\", 4)(20, \"label\", 8)(21, \"a\", 10);\n          i0.ɵɵtext(22, \"Forgot Password ?\");\n          i0.ɵɵelementEnd()()()();\n          i0.ɵɵelementStart(23, \"div\", 11)(24, \"div\", 12)(25, \"div\", 13)(26, \"button\", 14);\n          i0.ɵɵtext(27, \"Login \");\n          i0.ɵɵelementEnd()()()()();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"formGroup\", ctx.loginfrm);\n          i0.ɵɵadvance(10);\n          i0.ɵɵproperty(\"ngIf\", (ctx.email.errors == null ? null : ctx.email.errors[\"required\"]) && (ctx.email.dirty || ctx.email.touched));\n          i0.ɵɵadvance(6);\n          i0.ɵɵproperty(\"ngIf\", (ctx.pwd.errors == null ? null : ctx.pwd.errors[\"required\"]) && (ctx.pwd.dirty || ctx.pwd.touched));\n          i0.ɵɵadvance(9);\n          i0.ɵɵproperty(\"disabled\", ctx.loginfrm.invalid);\n        }\n      },\n      styles: [\"form[_ngcontent-%COMP%]{width:500px}input.ng-invalid.ng-touched[_ngcontent-%COMP%]{border:red 1px solid}.perfect-centering[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}\"]\n    });\n  }\n  return LoginComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}